---
date: 2025-11-29
description: Узнайте, как добавлять файлы в tar и сжимать их в TarZ с помощью Aspose.Zip
  для .NET — пошаговое руководство по эффективной работе с файлами в .NET.
language: ru
linktitle: Compressing to TarZ
second_title: Aspose.Zip .NET API for Files Compression & Archiving
title: Добавление файлов в tar и сжатие в TarZ с помощью Aspose.Zip для .NET
url: /net/archive-extraction-and-formats/compress-to-tar-z/
weight: 15
---

{{< blocks/products/pf/main-wrap-class >}}
{{< blocks/products/pf/main-container >}}
{{< blocks/products/pf/tutorial-page-section >}}

# Добавление файлов в tar и сжатие в TarZ с помощью Aspose.Zip for .NET

## Введение

Если вам нужно **add files to tar** и затем сжать архив в формат TarZ, Aspose.Zip for .NET делает весь процесс безболезненным. В этом руководстве мы пройдем каждый шаг — от настройки проекта до создания tar‑архива, добавления файлов и, наконец, сохранения сжатого файла .tar.z. В конце у вас будет переиспользуемый фрагмент кода, который можно вставить в любое приложение .NET.

## Быстрые ответы
- **Какая библиотека отвечает за создание tar?** Aspose.Zip for .NET  
- **Сколько строк кода?** Около 15 строк (без комментариев)  
- **Нужна ли лицензия для тестирования?** Доступна бесплатная пробная версия; лицензия требуется для продакшн.  
- **Поддерживаемые версии .NET?** .NET Framework 4.5+, .NET Core 3.1+, .NET 5/6+  
- **Можно ли сжимать папки, а не только файлы?** Да — можно добавить целые каталоги с помощью цикла.

## Что такое **add files to tar**?
Добавление файлов в tar‑архив объединяет их в один несжатый контейнер, сохраняющий структуру каталогов и метаданные файлов. Tar — классический формат Unix и служит основой для многих процессов сжатия, включая формат TarZ, используемый в этом руководстве.

## Почему добавлять файлы в tar перед сжатием в TarZ?
- **Переносимость** — tar‑архив работает на разных платформах без необходимости управлять отдельными файлами.  
- **Скорость** — создание tar‑контейнера быстро; последующее Z‑сжатие сосредотачивается только на уменьшении размера.  
- **Совместимость** — многие устаревшие инструменты ожидают `.tar` перед применением gzip‑подобного сжатия, что именно и предоставляет `.tar.z`.

## Предварительные требования

Прежде чем перейти к коду, убедитесь, что у вас есть:

- **Aspose.Zip for .NET** установлен. Скачайте его с официального сайта [here](https://releases.aspose.com/zip/net/).  
- Папка на вашем компьютере, содержащая файлы, которые вы хотите архивировать. Замените путь‑заполнитель на ваш реальный каталог.

## Импорт пространств имён

Добавьте необходимые директивы `using` в начало вашего C# файла:

```csharp
using System;
using Aspose.Zip.Tar;
```

## Пошаговое руководство

### Шаг 1: Определите каталог документа

```csharp
string dataDir = "Your Document Directory";
```

> **Совет:** Используйте `Path.Combine`, если нужно динамически формировать пути; это предотвращает отсутствие разделителей пути на разных ОС.

### Шаг 2: Создайте Tar‑архив и добавьте файлы

#### 2.1: Создайте экземпляр Tar‑архива

```csharp
using (TarArchive archive = new TarArchive())
{
    // Your code for creating the Tar archive goes here
}
```

#### 2.2: Добавьте файлы в архив  

Внутри блока `using` добавьте каждый файл, который нужно включить:

```csharp
archive.CreateEntry("alice29.txt", dataDir + "alice29.txt");
archive.CreateEntry("lcet10.txt", dataDir + "lcet10.txt");
```

Вы можете повторять `CreateEntry` столько раз, сколько требуется файлов, либо пройтись по каталогу в цикле и добавлять их программно.

#### 2.3: Сохраните сжатый файл TarZ  

После добавления всех записей сожмите tar‑архив в формат `.tar.z`:

```csharp
archive.SaveZCompressed(dataDir + "archive.tar.z");
```

Получившийся файл `archive.tar.z` будет находиться в той же папке, которую вы указали в `dataDir`.

## Распространённые проблемы и решения

| Проблема | Причина | Решение |
|----------|----------|----------|
| **Файл не найден** | Неправильный путь или отсутствует расширение файла | Убедитесь, что `dataDir` заканчивается разделителем пути, а имена файлов указаны правильно. |
| **Доступ запрещён** | Недостаточные права доступа к целевой папке | Запустите приложение с необходимыми правами или выберите папку с правом записи. |
| **Сжатый файл больше ожидаемого** | Исходные файлы уже сжаты (например, изображения, видео) | TarZ лучше всего работает с текстовыми или лог‑файлами; рассмотрите возможность оставить уже сжатые файлы без изменений. |

## Часто задаваемые вопросы

**Q: Можно ли сжимать целые папки с помощью Aspose.Zip for .NET?**  
A: Конечно. Используйте цикл `Directory.GetFiles` и вызывайте `CreateEntry` для каждого файла, сохраняя относительные пути.

**Q: Доступна ли пробная версия Aspose.Zip for .NET?**  
A: Да, вы можете ознакомиться с возможностями Aspose.Zip for .NET, скачав бесплатную пробную версию [here](https://releases.aspose.com/).

**Q: Где можно найти полную документацию по Aspose.Zip for .NET?**  
A: Документация доступна [here](https://reference.aspose.com/zip/net/), предоставляя подробную информацию о функциях и использовании библиотеки.

**Q: Как получить поддержку по Aspose.Zip for .NET?**  
A: Посетите [Aspose.Zip forum](https://forum.aspose.com/c/zip/37), чтобы получить помощь, поделиться опытом и связаться с сообществом.

**Q: Можно ли получить временную лицензию для Aspose.Zip for .NET?**  
A: Да, если вам нужна временная лицензия, её можно получить [here](https://purchase.aspose.com/temporary-license/).

## Заключение

Теперь вы знаете, как **add files to tar** и сжать результат в архив TarZ с помощью Aspose.Zip for .NET. Этот подход дает вам чистый, переносимый пакет, который можно легко передавать, хранить или дальше обрабатывать. Не стесняйтесь адаптировать фрагмент к пакетной обработке каталогов, интегрировать его в конвейеры сборки или комбинировать с другими компонентами Aspose для более сложных рабочих процессов с документами.

{{< /blocks/products/pf/tutorial-page-section >}}

{{< /blocks/products/pf/main-container >}}
{{< /blocks/products/pf/main-wrap-class >}}

{{< blocks/products/products-backtop-button >}}

---

**Последнее обновление:** 2025-11-29  
**Тестировано с:** Aspose.Zip for .NET 24.11  
**Автор:** Aspose  

---