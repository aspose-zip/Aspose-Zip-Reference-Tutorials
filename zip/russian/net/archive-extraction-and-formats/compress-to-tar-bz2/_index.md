---
date: 2026-02-20
description: Узнайте, как сжимать tar и создавать архив TarBz2 в .NET с помощью Aspose.Zip.
  Это пошаговое руководство показывает, как добавлять файлы в tar и эффективно генерировать
  файлы tarbz2.
linktitle: Compressing to TarBz2
second_title: Aspose.Zip .NET API for Files Compression & Archiving
title: Как сжать tar и создать TarBz2 с помощью Aspose.Zip для .NET
url: /ru/net/archive-extraction-and-formats/compress-to-tar-bz2/
weight: 11
---

{{< blocks/products/pf/main-wrap-class >}}
{{< blocks/products/pf/main-container >}}
{{< blocks/products/pf/tutorial-page-section >}}

# Как сжать tar и создать TarBz2 с помощью Aspose.Zip для .NET

## Введение

Добро пожаловать в наше подробное руководство по **сжатию tar** и добавлению файлов в tar‑архив, а затем созданию файла TarBz2 с использованием Aspose.Zip для .NET. Независимо от того, создаёте ли вы утилиту резервного копирования, готовите пакеты развертывания или просто нуждаетесь в компактном архиве для распространения, этот учебник проведёт вас через каждый шаг с ясными объяснениями, практическими советами и реальными примерами.

Прежде чем начать, убедимся, что у вас есть всё необходимое.

## Быстрые ответы
- **Какую библиотеку использовать?** Aspose.Zip для .NET
- **Сколько времени занимает реализация?** Около 5‑10 минут
- **Нужна ли лицензия?** Для продакшна требуется временная лицензия; доступна бесплатная пробная версия
- **Можно ли сжать несколько файлов?** Да — добавляйте столько записей, сколько хотите, в tar‑архив
- **Совместима ли с .NET 6+?** Абсолютно, Aspose.Zip поддерживает .NET Framework и .NET Core/5/6

## Как сжать tar

Добавление файлов в **tar** (Tape Archive) создаёт один несжатый контейнер, сохраняющий структуру каталогов и метаданные файлов. При последующем применении сжатия Bzip2 результатом становится **tar.bz2** (TarBz2) архив — идеальный вариант для эффективного хранения и передачи. Aspose.Zip делает этот процесс однострочной операцией, обрабатывая как создание tar, так и сжатие Bzip2 «под капотом».

## Почему сжимать файлы в TarBz2 с помощью Aspose.Zip?

- **Скорость и простота** – Однострочные вызовы API выполняют как создание tar, так и сжатие Bzip2.  
- **Кросс‑платформенность** – Работает на Windows, Linux и macOS в .NET‑средах.  
- **Тонкая настройка** – Выбирайте, какие файлы включать, задавайте пользовательские имена записей и напрямую стримьте на диск.  
- **Надёжная поддержка .NET** – Полностью совместим с **tar archive .net** сценариями, от консольных приложений до веб‑служб.

## Предварительные требования

- **Aspose.Zip для .NET** – Скачайте последнюю версию с официального сайта: [https://releases.aspose.com/zip/net/](https://releases.aspose.com/zip/net/)
- **Каталог документов** – Папка, содержащая файлы, которые вы хотите заархивировать. В примерах мы ссылаемся на неё переменной `dataDir`.

> **Pro tip:** Храните исходные файлы в отдельной папке, чтобы избежать случайного включения лишних файлов.

## Импорт пространств имён

Сначала импортируйте необходимые пространства имён, чтобы получить доступ к классам Tar и Bzip2 из Aspose.Zip.

```csharp
using System;
using System.ComponentModel;
using Aspose.Zip.Bzip2;
using Aspose.Zip.Tar;
```

## Шаг 1: Установите каталог документов

Определите путь, указывающий на папку, в которой находятся файлы для архивации.

```csharp
string dataDir = "Your Document Directory";
```

> Замените `"Your Document Directory"` на абсолютный или относительный путь к вашей исходной папке.

## Шаг 2: Добавьте файлы в tar и создайте архив TarBz2

Суть процесса — создать `TarArchive`, добавить записи, затем обернуть его в `Bzip2Archive`. Код ниже демонстрирует **как создать tarbz2** в чистом стиле с использованием паттерна disposable.

```csharp
//ExStart: CompressFile
using (Bzip2Archive bz2 = new Bzip2Archive())
{
    using (TarArchive archive = new TarArchive())
    {
        archive.CreateEntry("alice29.txt", dataDir + "alice29.txt");
        archive.CreateEntry("lcet10.txt", dataDir + "lcet10.txt");

        bz2.SetSource(archive);
        bz2.Save(dataDir + "archive.tar.bz2");
    }
}
```

- `CreateEntry` добавляет каждый файл в контейнер **tar**.  
- `bz2.SetSource(archive)` указывает архиву Bzip2 сжать весь поток tar.  
- `bz2.Save(...)` записывает окончательный файл **tar.bz2** на диск.

**Совет:** Чтобы **сжать файлы в tarbz2** массово, просто повторяйте `archive.CreateEntry` для каждого нужного файла.

## Распространённые проблемы и решения

| Проблема | Причина | Решение |
|-------|--------|-----|
| **Ошибка «File not found»** | Неправильный путь `dataDir` или отсутствие расширения файла | Проверьте полный путь и убедитесь, что файл существует. |
| **Пустой архив** | Не добавлено ни одной записи перед `bz2.Save` | Добавьте хотя бы один вызов `CreateEntry`. |
| **Отказ в доступе** | Приложение не имеет прав записи в целевую папку | Запустите приложение с нужными правами или выберите папку с правом записи. |

## Часто задаваемые вопросы

**В: Совместима ли Aspose.Zip со всеми .NET‑приложениями?**  
О: Да. Работает с .NET Framework, .NET Core, .NET 5/6 и более новыми средами выполнения.

**В: Можно ли одновременно сжать несколько файлов?**  
О: Абсолютно. Вызывайте `CreateEntry` для каждого файла перед сохранением архива.

**В: Где найти дополнительную документацию?**  
О: Подробные документы доступны [здесь](https://reference.aspose.com/zip/net/).

**В: Как получить временную лицензию для Aspose.Zip?**  
О: Запросить её можно [здесь](https://purchase.aspose.com/temporary-license/).

**В: Есть ли бесплатная пробная версия?**  
О: Да, загрузить пробную версию можно [здесь](https://releases.aspose.com/).

## Заключение

Теперь вы знаете, как **добавлять файлы в tar**, обернуть их в поток Bzip2 и получить **TarBz2** архив с помощью Aspose.Zip для .NET. Эта техника быстра, надёжна и работает на всех современных платформах .NET. Не стесняйтесь экспериментировать с большими наборами файлов, пользовательскими именами записей или интегрировать код в свои собственные процессы резервного копирования или развертывания.

Если столкнётесь с трудностями, сообщество Aspose.Zip готово помочь — просто зайдите на [форум поддержки Aspose.Zip](https://forum.aspose.com/c/zip/37).

---

**Последнее обновление:** 2026-02-20  
**Тестировано с:** Aspose.Zip для .NET (последний релиз)  
**Автор:** Aspose  

{{< /blocks/products/pf/tutorial-page-section >}}

{{< /blocks/products/pf/main-container >}}
{{< /blocks/products/pf/main-wrap-class >}}

{{< blocks/products/products-backtop-button >}}