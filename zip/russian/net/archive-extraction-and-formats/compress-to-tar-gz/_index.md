---
date: 2026-02-20
description: Узнайте, как создать tar‑архив, добавить файлы в tar и сжать их в tar.gz
  с помощью Aspose.Zip для .NET — быстрый кроссплатформенный способ создания архивов
  TarGz.
linktitle: Add files to tar
second_title: Aspose.Zip .NET API for Files Compression & Archiving
title: Создание tar‑архива и добавление файлов в tar с помощью Aspose.Zip для .NET
url: /ru/net/archive-extraction-and-formats/compress-to-tar-gz/
weight: 12
---

{{< blocks/products/pf/main-wrap-class >}}
{{< blocks/products/pf/main-container >}}
{{< blocks/products/pf/tutorial-page-section >}}

# Создать tar‑архив и добавить файлы в tar с помощью Aspose.Zip для .NET

## Введение

В современных приложениях .NET **создание tar‑архива** и **добавление файлов в tar** быстро и надёжно является распространённой задачей — будь то упаковка журналов, подготовка данных для облачного хранилища или создание пакетов развертывания. Aspose.Zip for .NET предоставляет чистый, высокопроизводительный API для **добавления файлов в tar**, а затем сжатия архива в широко используемый формат **tar.gz**. В этом руководстве мы пройдём весь процесс, от настройки проекта до получения готового к отправке `archive.tar.gz`.

## Быстрые ответы
- **Какую библиотеку использовать?** Aspose.Zip for .NET  
- **Как добавить файлы в tar?** Используйте `TarArchive.CreateEntry` для каждого файла.  
- **Можно ли сразу сжать в tar.gz?** Да — вызовите `SaveGzipped`.  
- **Нужна ли лицензия для продакшна?** Требуется действующая лицензия Aspose для использования не в режиме пробной версии.  
- **Поддерживаемые версии .NET?** .NET Framework 4.5+, .NET Core 3.1+, .NET 5/6/7.

## Что означает «add files to tar»?
Добавление файлов в tar‑архив означает объединение нескольких файлов в один не сжатый контейнер. Формат tar сохраняет структуру каталогов и метаданные файлов, что делает его идеальным для архивирования перед необязательным сжатием (например, gzip) с целью **создания tar.gz‑архива**.

## Почему использовать Aspose.Zip для сжатия файлов в tar.gz?
- **Без внешних инструментов** — всё работает внутри вашего кода .NET.  
- **Высокая производительность** — API на основе потоков эффективно обрабатывает большие файлы.  
- **Кросс‑платформенный tar** — работает на Windows, Linux и macOS без изменений.  
- **Богатый набор функций** — поддерживает шифрование, защиту паролем и пользовательские атрибуты записей.

## Предварительные требования

Перед началом убедитесь, что у вас есть:

- Базовый опыт разработки на .NET.  
- Visual Studio (или любой другой предпочитаемый IDE).  
- Aspose.Zip for .NET установлен — см. официальную документацию [здесь](https://reference.aspose.com/zip/net/).  
- Библиотека Aspose.Zip загружена по [этой ссылке](https://releases.aspose.com/zip/net/).

## Импорт пространств имён

В вашем проекте .NET импортируйте пространства имён, которые предоставляют классы, связанные с tar:

```csharp
using System;
using Aspose.Zip.Tar;
```

## Как добавить файлы в tar с помощью Aspose.Zip for .NET

### Шаг 1: Установите каталог документов

Сначала укажите коду папку, содержащую файлы, которые нужно архивировать.

```csharp
string dataDir = "Your Document Directory";
```

> **Совет:** Используйте `Path.Combine` при построении путей, чтобы избежать проблем с разделителями, специфичными для платформы.

### Шаг 2: Создайте архив TarGz

Теперь мы создадим tar‑архив, добавим записи и сожмём его в одном плавном потоке.

#### 2.1 Инициализируйте TarArchive

```csharp
using (TarArchive archive = new TarArchive())
{
    // Entries will be added inside this block.
}
```

#### 2.2 Добавьте файлы — ядро «add files to tar»

```csharp
archive.CreateEntry("alice29.txt", dataDir + "alice29.txt");
archive.CreateEntry("lcet10.txt", dataDir + "lcet10.txt");
```

Каждый вызов `CreateEntry` принимает **имя записи** (как файл будет отображаться внутри tar) и **путь к исходному файлу** на диске. Вы можете вызывать `CreateEntry` многократно, чтобы **добавить несколько файлов в tar** в один архив.

#### 2.3 Сохраните как Gzipped Tar (как сжать tar.gz)

```csharp
archive.SaveGzipped(dataDir + "archive.tar.gz");
```

`SaveGzipped` записывает содержимое tar в gzip‑поток, предоставляя вам компактный файл `archive.tar.gz`, готовый к распространению.

## Распространённые сценарии использования

| Сценарий | Почему «add files to tar» помогает |
|----------|------------------------------------|
| **Агрегация журналов** | Соберите ежедневные журналы в один архив перед загрузкой в облачное хранилище. |
| **Пакеты развертывания** | Создайте переносимые tar.gz‑пакеты для Linux‑серверов из конвейера сборки Windows. |
| **Резервное копирование данных** | Сохраните иерархию папок и метаданные, одновременно уменьшая размер резервной копии. |

## Распространённые проблемы и решения

- **Ошибка «файл не найден»** — Убедитесь, что `dataDir` заканчивается правильным разделителем пути, либо используйте `Path.Combine`.  
- **Большие файлы вызывают нагрузку на память** — Используйте перегрузки на основе потоков (`CreateEntry` с `Stream`), чтобы избежать загрузки целых файлов в память.  
- **Вывод Gzip повреждён** — Убедитесь, что архив закрыт (`using` блок) перед вызовом `SaveGzipped`.  

## Часто задаваемые вопросы

**Q: Совместим ли Aspose.Zip for .NET со всеми приложениями .NET?**  
A: Да, он работает с проектами .NET Framework, .NET Core и .NET 5/6/7.

**Q: Как получить временную лицензию для Aspose.Zip for .NET?**  
A: Посетите страницу [temporary‑license page](https://purchase.aspose.com/temporary-license/) для запроса пробной лицензии.

**Q: Существуют ли ограничения по размеру файлов?**  
A: Библиотека оптимизирована для больших файлов; жёсткого ограничения размера нет, кроме доступной системной памяти.

**Q: Где можно получить поддержку?**  
A: Используйте сообщество‑ориентированный форум поддержки [here](https://forum.aspose.com/c/zip/37) для помощи от инженеров Aspose и других разработчиков.

**Q: Можно ли бесплатно попробовать Aspose.Zip for .NET?**  
A: Конечно — скачайте бесплатную пробную версию со страницы [Aspose Zip releases page](https://releases.aspose.com/zip/net).

## Заключение

Теперь вы знаете **как создать tar‑архив**, добавить в него файлы и сжать его до **tar.gz** с помощью Aspose.Zip for .NET. Этот подход устраняет внешние зависимости, даёт тонкий контроль над содержимым архива и масштабируется до больших наборов данных. Не стесняйтесь исследовать дополнительные возможности Aspose.Zip, такие как шифрование, пользовательские атрибуты записей и потоковые API, чтобы ещё больше улучшить ваш процесс архивирования.

{{< /blocks/products/pf/tutorial-page-section >}}

{{< /blocks/products/pf/main-container >}}
{{< /blocks/products/pf/main-wrap-class >}}

{{< blocks/products/products-backtop-button >}}

---

**Last Updated:** 2026-02-20  
**Tested With:** Aspose.Zip 24.11 for .NET  
**Author:** Aspose