---
date: 2026-02-23
description: Узнайте, как сжимать несколько файлов в tar с помощью Aspose.Zip для
  .NET и эффективно создавать архивы tar.lz.
linktitle: Compressing to TarLz
second_title: Aspose.Zip .NET API for Files Compression & Archiving
title: Как упаковать несколько файлов в tar с помощью Aspose.Zip для .NET
url: /ru/net/archive-extraction-and-formats/compress-to-tar-lz/
weight: 13
---

{{< blocks/products/pf/main-wrap-class >}}
{{< blocks/products/pf/main-container >}}
{{< blocks/products/pf/tutorial-page-section >}}

# Как сжать несколько файлов tar с помощью Aspose.Zip для .NET

В современном .NET‑разработке эффективное упаковка файлов может значительно уменьшить размер развертывания и сократить время передачи по сети. **Compress multiple files tar** — частая потребность, когда нужен лёгкий LZ‑сжатый TAR‑архив для резервных копий, распространения или загрузки в облако. В этом руководстве мы пошагово пройдем **пример сжатия tar.lz** с использованием библиотеки Aspose.Zip, чтобы вы быстро могли создать **tar.lz архив** в своих приложениях.

## Быстрые ответы
- **Какую библиотеку использовать?** Aspose.Zip for .NET.  
- **Сколько времени занимает реализация?** Около 5‑10 минут для базового примера.  
- **Нужна ли лицензия?** Бесплатная пробная версия подходит для тестирования; коммерческая лицензия требуется для продакшна.  
- **Какие версии .NET поддерживаются?** .NET Framework 4.5+, .NET Core 3.1+, .NET 5/6/7.  
- **Можно ли сжать несколько файлов одновременно?** Да — просто добавьте больше записей перед сохранением.

## Как сжать несколько файлов tar
Этот раздел непосредственно отвечает на основной запрос и показывает точные шаги для **compress multiple files tar** с помощью Aspose.Zip. Подход работает с любым количеством файлов, и его легко адаптировать под вашу структуру папок.

## Что такое сжатие tar.lz?
`tar.lz` — это TAR‑архив, сжатый алгоритмом LZMA (часто упоминаемым просто как **LZ**). Он сочетает простоту группировки файлов TAR с высоким коэффициентом сжатия LZ, что делает его идеальным для резервных копий, распространения пакетов или любых сценариев, где важна пропускная способность.

## Почему использовать Aspose.Zip для .NET?
Aspose.Zip абстрагирует низкоуровневые детали создания архивов, предоставляя чистый объектно‑ориентированный API. Вы получаете:

* **Zero external dependencies** – чистая реализация на .NET.  
* **Cross‑platform support** – работает на Windows, Linux и macOS.  
* **Built‑in LZ compression** – не требуется установка дополнительных нативных инструментов.  
* **Strong error handling** – исключения информативны, упрощая отладку.

## Предварительные требования
Перед началом убедитесь, что у вас есть:

- **Aspose.Zip for .NET** library – скачайте её [здесь](https://releases.aspose.com/zip/net/).  
- Папка, содержащая файлы, которые вы хотите заархивировать. Путь к этой папке будет храниться в переменной `dataDir` (вы зададите его в Шаге 3).

## Импорт пространств имён
Добавьте необходимые пространства имён, чтобы компилятор знал, где находятся используемые классы.

```csharp
using System;
using Aspose.Zip.Tar;
```

## Как создать tar.lz архив — пошаговое руководство

### Шаг 1: Сжать один файл
Первый пример показывает самую базовую ситуацию — добавление одного файла в TAR‑архив и последующее сохранение его как **tar.lz** файл.

```csharp
//ExStart: CompressSingleFile
using (TarArchive archive = new TarArchive())
{
    archive.CreateEntry("alice29.txt", dataDir + "alice29.txt");
    archive.SaveLzipped(dataDir + "archive.tar.lz");
}
```

**Объяснение**

- `new TarArchive()` создает пустой TAR‑контейнер.  
- `CreateEntry` добавляет файл `alice29.txt` из вашего `dataDir`.  
- `SaveLzipped` записывает архив на диск и применяет LZ‑сжатие, создавая `archive.tar.lz`.

### Шаг 2: Сжать несколько файлов в один архив
Часто требуется собрать несколько файлов вместе. Просто вызывайте `CreateEntry` для каждого файла перед сохранением. Это демонстрирует **add files to tar lz** и эффективно **compress multiple files tar**.

```csharp
//ExStart: CompressMultipleFiles
using (TarArchive archive = new TarArchive())
{
    archive.CreateEntry("alice29.txt", dataDir + "alice29.txt");
    archive.CreateEntry("lcet10.txt", dataDir + "lcet10.txt");
    archive.SaveLzipped(dataDir + "archive.tar.lz");
}
```

**Объяснение**

- Код следует той же схеме, что и в Шаге 1, но добавляет вторую запись (`lcet10.txt`).  
- Вы можете повторять `CreateEntry` сколько угодно раз; библиотека автоматически управляет внутренней структурой TAR.

### Шаг 3: Указать каталог документов
Замените заполнитель реальным путём, где находятся ваши исходные файлы. Этот путь используется в примерах выше.

```csharp
string dataDir = "Your Document Directory";
```

**Объяснение**

- Установите `dataDir` в полностью квалифицированный путь к папке, например, `@\"C:\\MyFiles\\\"`.  
- Хранение пути в переменной делает код переиспользуемым и проще поддерживаемым.

## Распространённые ошибки и устранение неполадок
| Симптом | Вероятная причина | Решение |
|---------|-------------------|---------|
| `FileNotFoundException` при запуске примера | `dataDir` указывает на несуществующую папку или имя файла написано с ошибкой | Проверьте путь и имена файлов; используйте `Path.Combine` для надёжности. |
| Файл вывода имеет размер **0 KB** | `archive.SaveLzipped` был вызван до добавления записей | Убедитесь, что хотя бы один вызов `CreateEntry` предшествует `SaveLzipped`. |
| Сжатие кажется медленным | Большие файлы с буфером по умолчанию | Рассмотрите обработку файлов частями или использование асинхронного ввода‑вывода, если важна производительность. |

## Заключение
Теперь вы знаете, **как сжать tar.lz** файлы с помощью Aspose.Zip для .NET, будь то один документ или набор файлов. Этот **пример сжатия tar.lz** демонстрирует чистый, готовый к продакшну способ **создания tar lz архива**, который легко передавать или хранить.

## Часто задаваемые вопросы

**Q:** Можно ли сжать файлы любого размера с помощью Aspose.Zip для .NET?  
**A:** Да, библиотека работает как с небольшими, так и с очень большими файлами; просто убедитесь, что у вас достаточно памяти и места на диске для временной структуры TAR.

**Q:** Совместим ли код с последним релизом Aspose.Zip?  
**A:** Пример ориентирован на текущую версию; всегда поддерживайте пакет NuGet в актуальном состоянии для получения исправлений ошибок и новых возможностей.

**Q:** Есть ли лицензионные нюансы?  
**A:** Для использования в продакшене требуется коммерческая лицензия. Смотрите детали лицензирования на [Aspose website](https://purchase.aspose.com/buy).

**Q:** Можно ли использовать это в коммерческом проекте?  
**A:** Абсолютно — после получения действующей лицензии вы можете внедрять библиотеку в любое коммерческое приложение.

**Q:** Где получить помощь, если возникнут проблемы?  
**A:** Посетите [Aspose.Zip forum](https://forum.aspose.com/c/zip/37) для поддержки сообщества и официальной помощи.

{{< /blocks/products/pf/tutorial-page-section >}}

{{< /blocks/products/pf/main-container >}}
{{< /blocks/products/pf/main-wrap-class >}}

{{< blocks/products/products-backtop-button >}}

---

**Последнее обновление:** 2026-02-23  
**Тестировано с:** Aspose.Zip for .NET (latest release)  
**Автор:** Aspose  

---