---
date: 2026-02-05
description: Узнайте, как добавлять файлы в tar и создавать архивы tarxz в .NET с
  помощью Aspose.Zip. Это руководство показывает, как эффективно сжимать файлы в tarxz.
linktitle: Compressing to TarXz
second_title: Aspose.Zip .NET API for Files Compression & Archiving
title: Добавить файлы в tar, создать архив tarxz в .NET с Aspose.Zip
url: /ru/net/archive-extraction-and-formats/compress-to-tar-xz/
weight: 14
---

{{< blocks/products/pf/main-wrap-class >}}
{{< blocks/products/pf/main-container >}}
{{< blocks/products/pf/tutorial-page-section >}}

# Как добавить файлы в tar и создать архив tarxz в .NET с Aspose.Zip

## Введение

Если вам нужно **добавить файлы в tar** и затем сжать их в архив tarxz с помощью .NET, Aspose.Zip for .NET делает процесс простым и надёжным. Независимо от того, упаковываете ли вы журналы, файлы конфигурации или любые другие ресурсы для хранения или передачи, сжатие в формат TarXz даёт высокий коэффициент сжатия, сохраняя знакомую структуру tar. В этом руководстве мы пройдём все шаги — с полными фрагментами кода — чтобы вы могли уверенно интегрировать создание tarxz в свои .NET‑приложения.

## Быстрые ответы
- **Какой основной класс?** `TarArchive` из `Aspose.Zip.Tar`
- **Как сжать tarxz?** Использовать `SaveXzCompressed` после добавления записей
- **Поддерживаемые версии .NET?** .NET Framework 4.5+, .NET Core 3.1+, .NET 5/6
- **Нужна лицензия?** Да, действующая лицензия Aspose.Zip для продакшн‑использования
- **Типичное время реализации?** ~5‑10 минут

## Что такое архив TarXz?

**TarXz‑архив** сочетает традиционный Unix‑контейнер `tar` с компрессией XZ. Часть tar объединяет несколько файлов в один поток, а XZ обеспечивает сильное, без потерь, сжатие. Этот формат популярен для распространения исходного кода, резервных копий и больших наборов данных, поскольку сохраняет структуру каталогов и даёт меньший размер файлов по сравнению с обычным tar или zip.

## Почему добавлять файлы в tar и сжимать в tarxz с Aspose.Zip?

- **Высокий коэффициент сжатия** — XZ часто делает файл на 30‑50 % меньше, чем gzip.  
- **Кросс‑платформенная совместимость** — файлы TarXz можно открыть в Linux, macOS и Windows.  
- **Простой API** — Aspose.Zip абстрагирует низкоуровневые детали, позволяя сосредоточиться на бизнес‑логике.  
- **Без внешних инструментов** — всё выполняется внутри вашего .NET‑процесса, идеально для облака или CI‑конвейеров.  

## Предварительные требования

Прежде чем начать, убедитесь, что у вас есть:

- **Aspose.Zip for .NET** установлен (скачайте с официальной [Aspose.Zip documentation](https://reference.aspose.com/zip/net/)).  
- Папка, содержащая файлы, которые вы хотите заархивировать. В примерах ниже эта папка задаётся переменной `dataDir`.  
- Действительная лицензия Aspose.Zip (необязательно для оценки, требуется для продакшн).

## Импорт пространств имён

Сначала импортируйте пространства имён, которые предоставляют функциональность TarXz.

```csharp
using System;
using Aspose.Zip.Tar;
```

## Как добавить файлы в tar с помощью Aspose.Zip

### Шаг 1: Инициализировать `TarArchive`

Создайте новый экземпляр `TarArchive`, который будет содержать файлы для сжатия.

```csharp
using (TarArchive archive = new TarArchive())
{
```

> **Совет:** Оператор `using` гарантирует корректное освобождение архива и всех неуправляемых ресурсов.

### Шаг 2: Добавить файлы в архив

Добавьте каждый файл, который необходимо включить. В этом примере мы добавляем два текстовых файла, но вы можете добавить столько записей, сколько нужно.

```csharp
    archive.CreateEntry("alice29.txt", dataDir + "alice29.txt");
    archive.CreateEntry("lcet10.txt", dataDir + "lcet10.txt");
```

> **Почему это важно:** Добавление записей до сжатия позволяет Aspose.Zip сначала построить контейнер tar, а затем применить сжатие XZ за один шаг.

### Шаг 3: Сохранить архив с XZ‑сжатием

Наконец, запишите tar‑архив на диск, используя XZ‑сжатие. Полученный файл будет иметь расширение `.tar.xz`.

```csharp
    archive.SaveXzCompressed(dataDir + "archive.tar.xz");
}
```

> **Результат:** Теперь у вас есть полностью сжатый файл `archive.tar.xz`, который можно передавать, хранить или распаковывать на любой платформе, поддерживающей TarXz.

## Распространённые проблемы и решения

| Проблема | Причина | Решение |
|----------|---------|---------|
| **Исключение “File not found”** | Неправильный путь `dataDir` | Убедитесь, что путь заканчивается обратным слешем (`\`) или используйте `Path.Combine`. |
| **Большое потребление памяти** | Очень большие файлы сжимаются в памяти | Используйте `TarArchive` в потоковом режиме (перегрузка `SaveXzCompressed`, принимающая `Stream`). |
| **Лицензия не применена** | Отсутствует файл лицензии | Загрузите лицензию при старте приложения: `new Aspose.Zip.License().SetLicense("Aspose.Zip.lic");` |

## Часто задаваемые вопросы

**В: Совместим ли Aspose.Zip со всеми средами .NET?**  
О: Да, Aspose.Zip работает с .NET Framework 4.5+, .NET Core 3.1+, и .NET 5/6+. Подробнее см. в [documentation](https://reference.aspose.com/zip/net/).

**В: Как получить временную лицензию для Aspose.Zip?**  
О: Вы можете запросить временную лицензию на странице [Aspose temporary‑license page](https://purchase.aspose.com/temporary-license/).

**В: Есть ли дополнительные примеры для других форматов архивов?**  
О: Конечно — изучайте полный набор примеров в [Aspose.Zip API reference](https://reference.aspose.com/zip/net/).

**В: Где можно получить помощь или обсудить проблемы?**  
О: Присоединяйтесь к обсуждению на [Aspose.Zip forum](https://forum.aspose.com/c/zip/37) для поддержки сообщества и официальных ответов.

**В: Можно ли попробовать Aspose.Zip бесплатно перед покупкой?**  
О: Да, бесплатная пробная версия доступна на странице [Aspose.Zip download page](https://releases.aspose.com/zip/net).

## Заключение

Следуя приведённым выше шагам, вы теперь знаете **как добавить файлы в tar** и **создать tarxz‑архивы** с помощью Aspose.Zip в .NET. Этот подход даёт компактный, переносимый пакет, который легко интегрировать в любой .NET‑рабочий процесс — будь то настольное приложение, веб‑служба или автоматизированный CI/CD‑конвейер.

---

**Последнее обновление:** 2026-02-05  
**Тестировано с:** Aspose.Zip for .NET 24.11  
**Автор:** Aspose  

{{< /blocks/products/pf/tutorial-page-section >}}

{{< /blocks/products/pf/main-container >}}
{{< /blocks/products/pf/main-wrap-class >}}

{{< blocks/products/products-backtop-button >}}