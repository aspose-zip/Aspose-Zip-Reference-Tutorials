---
date: 2026-02-15
description: เรียนรู้วิธีเพิ่มไฟล์ลงใน tar และบีบอัดเป็น TarZ ด้วย Aspose.Zip สำหรับ
  .NET – คู่มือแบบเป็นขั้นเป็นตอนสำหรับการจัดการไฟล์ .NET อย่างมีประสิทธิภาพ
linktitle: Compressing to TarZ
second_title: Aspose.Zip .NET API for Files Compression & Archiving
title: เพิ่มไฟล์ลงใน tar และบีบอัดเป็น TarZ ด้วย Aspose.Zip สำหรับ .NET
url: /th/net/archive-extraction-and-formats/compress-to-tar-z/
weight: 15
---

{{< blocks/products/pf/main-wrap-class >}}
{{< blocks/products/pf/main-container >}}
{{< blocks/products/pf/tutorial-page-section >}}

# เพิ่มไฟล์ลงใน tar และบีบอัดเป็น TarZ ด้วย Aspose.Zip สำหรับ .NET

## บทนำ

หากคุณต้องการ **add files to tar** แล้วบีบอัดไฟล์เก็บไว้ในรูปแบบ TarZ, Aspose.Zip สำหรับ .NET ทำให้กระบวนการทั้งหมดเป็นเรื่องง่าย ในบทแนะนำนี้เราจะเดินผ่านทุกขั้นตอน—from การตั้งค่าโปรเจกต์ของคุณไปจนถึงการสร้าง tar archive, การเพิ่มไฟล์, และสุดท้ายการบันทึกไฟล์ .tar.z ที่บีบอัดแล้ว เมื่อเสร็จคุณจะได้สคริปต์ที่นำกลับมาใช้ใหม่ได้ซึ่งสามารถใส่ลงในแอปพลิเคชัน .NET ใดก็ได้

## คำตอบด่วน
- **ไลบรารีที่จัดการการสร้าง tar คืออะไร?** Aspose.Zip สำหรับ .NET  
- **ต้องเขียนโค้ดกี่บรรทัด?** ประมาณ 15 บรรทัด (ไม่รวมคอมเมนต์)  
- **ต้องมีลิขสิทธิ์สำหรับการทดสอบหรือไม่?** มีเวอร์ชันทดลองฟรี; ต้องมีลิขสิทธิ์สำหรับการใช้งานจริง  
- **รองรับเวอร์ชัน .NET ใดบ้าง?** .NET Framework 4.5+, .NET Core 3.1+, .NET 5/6+  
- **สามารถบีบอัดโฟลเดอร์ได้หรือไม่, ไม่ใช่แค่ไฟล์เดียว?** ได้ – คุณสามารถเพิ่มไดเรกทอรีทั้งหมดด้วยลูป

## **add files to tar** คืออะไร?
การเพิ่มไฟล์ลงใน tar archive จะทำให้ไฟล์หลายไฟล์ถูกรวมเป็นคอนเทนเนอร์เดียวที่ไม่มีการบีบอัด ซึ่งคงโครงสร้างไดเรกทอรีและเมตาดาต้าไฟล์ Tar เป็นฟอร์แมตคลาสสิกของ Unix และทำหน้าที่เป็นพื้นฐานสำหรับหลายเวิร์กโฟลว์การบีบอัด รวมถึงรูปแบบ TarZ ที่ใช้ในคู่มือนี้

## ทำไมต้องเพิ่มไฟล์ลงใน tar ก่อนบีบอัดเป็น TarZ?
- **Portability** – Tar archive ทำงานได้ข้ามแพลตฟอร์มโดยไม่ต้องกังวลเรื่องการจัดการไฟล์แต่ละไฟล์  
- **Speed** – การสร้างคอนเทนเนอร์ tar ทำได้เร็ว; การบีบอัด Z‑compression ต่อจากนั้นจึงมุ่งเน้นที่การลดขนาดไฟล์เท่านั้น  
- **Compatibility** – เครื่องมือเก่าหลายตัวคาดหวังไฟล์ `.tar` ก่อนที่จะทำการบีบอัดแบบ gzip‑style, ซึ่งตรงกับที่ `.tar.z` ทำให้ได้ผลลัพธ์ที่ต้องการ  

### ทำไมเรื่องนี้ถึงสำคัญสำหรับนักพัฒนา .NET
การใช้คอนเทนเนอร์ tar ทำให้โค้ด .NET ของคุณง่ายและคาดเดาได้ คุณสามารถสร้าง archive ในหน่วยความจำ, สตรีมโดยตรงไปยัง response, หรือบันทึกลงดิสก์โดยไม่ต้องจัดการไฟล์ zip ชั่วคราว รูปแบบนี้มีประโยชน์อย่างยิ่งสำหรับ pipeline การสร้าง, การรวมบันทึก, หรือเมื่อคุณต้องส่งชุดไฟล์คอนฟิกไปยังบริการที่ทำงานบน Linux

## ข้อกำหนดเบื้องต้น

ก่อนที่เราจะลงลึกในโค้ด, โปรดตรวจสอบว่าคุณมี:

- **Aspose.Zip สำหรับ .NET** ติดตั้งแล้ว ดาวน์โหลดได้จากเว็บไซต์อย่างเป็นทางการ [ที่นี่](https://releases.aspose.com/zip/net/)  
- โฟลเดอร์บนเครื่องของคุณที่มีไฟล์ที่ต้องการทำ archive. แทนที่พาธตัวอย่างด้วยพาธจริงของคุณ

## นำเข้า Namespaces

เพิ่ม `using` ที่จำเป็นที่ส่วนหัวของไฟล์ C# ของคุณ:

```csharp
using System;
using Aspose.Zip.Tar;
```

> **เคล็ดลับ:** ใช้ `Path.Combine` หากต้องสร้างพาธแบบไดนามิก; มันช่วยหลีกเลี่ยงปัญหาตัวคั่นพาธที่หายไปบนระบบปฏิบัติการต่าง ๆ

## คู่มือขั้นตอนต่อขั้นตอน

### ขั้นตอนที่ 1: กำหนดไดเรกทอรีเอกสารของคุณ

```csharp
string dataDir = "Your Document Directory";
```

> **ทำไมขั้นตอนนี้สำคัญ:** `dataDir` ทำหน้าที่เป็นตำแหน่งฐานสำหรับทุกไฟล์ที่คุณจะเพิ่ม การเก็บไว้ในตัวแปรเดียวทำให้โค้ดง่ายต่อการบำรุงรักษาและนำกลับมาใช้ใหม่ในหลาย archive

### ขั้นตอนที่ 2: สร้าง Tar Archive และเพิ่มไฟล์

#### 2.1: สร้างอินสแตนซ์ของ Tar archive

```csharp
using (TarArchive archive = new TarArchive())
{
    // Your code for creating the Tar archive goes here
}
```

> บล็อก `using` รับประกันว่าอ็อบเจกต์ `TarArchive` จะถูกทำลายอย่างถูกต้อง, ปล่อยตัวจัดการไฟล์หรือบัฟเฟอร์หน่วยความจำที่ใช้

#### 2.2: เพิ่มไฟล์ลงใน archive  

ภายในบล็อก `using`, เพิ่มไฟล์แต่ละไฟล์ที่ต้องการรวม:

```csharp
archive.CreateEntry("alice29.txt", dataDir + "alice29.txt");
archive.CreateEntry("lcet10.txt", dataDir + "lcet10.txt");
```

คุณสามารถเรียก `CreateEntry` ซ้ำได้ตามจำนวนไฟล์ที่ต้องการ, หรือใช้ลูปผ่านไดเรกทอรีเพื่อเพิ่มไฟล์โดยอัตโนมัติ ตัวอย่างเช่น ลูป `foreach (var file in Directory.GetFiles(dataDir))` จะช่วยจัดการไฟล์จำนวนไม่จำกัดพร้อมคงรักษาโครงสร้างเส้นทางสัมพันธ์ไว้

#### 2.3: บันทึกไฟล์ TarZ ที่บีบอัดแล้ว  

หลังจากเพิ่ม entry ทั้งหมดแล้ว, บีบอัด tar archive เป็นรูปแบบ `.tar.z`:

```csharp
archive.SaveZCompressed(dataDir + "archive.tar.z");
```

ไฟล์ `archive.tar.z` ที่ได้จะอยู่ในโฟลเดอร์เดียวกับที่ระบุใน `dataDir`. ตอนนี้คุณสามารถส่งแพ็กเกจเดียวที่บีบอัดนี้ไปยังระบบใดก็ได้ที่รองรับ TarZ

## ปัญหาทั่วไปและวิธีแก้

| ปัญหา | สาเหตุ | วิธีแก้ |
|-------|--------|-----|
| **ไฟล์ไม่พบ** | เส้นทางไม่ถูกต้องหรือขาดส่วนขยายไฟล์ | ตรวจสอบว่า `dataDir` ลงท้ายด้วยตัวคั่นเส้นทางและชื่อไฟล์ถูกต้อง |
| **การเข้าถึงถูกปฏิเสธ** | สิทธิ์ไม่เพียงพอบนโฟลเดอร์เป้าหมาย | เรียกใช้แอปพลิเคชันด้วยสิทธิ์ที่เหมาะสมหรือเลือกไดเรกทอรีที่สามารถเขียนได้ |
| **ไฟล์ที่บีบอัดมีขนาดใหญ่กว่าที่คาดไว้** | ไฟล์ต้นฉบับถูกบีบอัดแล้ว (เช่น รูปภาพ, วิดีโอ) | TarZ ทำงานได้ดีที่สุดกับไฟล์ข้อความหรือบันทึก; พิจารณาให้ไฟล์ที่บีบอัดแล้วอยู่ในสภาพเดิม |

### จุดบกพร่องทั่วไปที่ควรระวัง
- **Missing trailing slash** – หาก `dataDir` ไม่ลงท้ายด้วย `\` หรือ `/`, การต่อสตริงจะสร้างพาธที่ไม่ถูกต้อง  
- **Large directories** – การเพิ่มไฟล์หลายพันไฟล์อาจใช้หน่วยความจำมาก; พิจารณา stream entry หรือใช้ overload ของ `TarArchive` ที่เขียนโดยตรงไปยัง file stream  
- **Encoding issues** – ชื่อไฟล์ที่ไม่ใช่ ASCII อาจต้องการการจัดการ encoding อย่างชัดเจน; Aspose.Zip รองรับ UTF‑8 เป็นค่าเริ่มต้น, แต่ควรตรวจสอบบนแพลตฟอร์มเป้าหมาย

## คำถามที่พบบ่อย

**ถาม: ฉันสามารถบีบอัดโฟลเดอร์ทั้งหมดด้วย Aspose.Zip สำหรับ .NET ได้หรือไม่?**  
ตอบ: แน่นอน. ใช้ลูป `Directory.GetFiles` แล้วเรียก `CreateEntry` สำหรับแต่ละไฟล์, คงรักษาเส้นทางสัมพันธ์ไว้

**ถาม: มีเวอร์ชันทดลองสำหรับ Aspose.Zip สำหรับ .NET หรือไม่?**  
ตอบ: มี, คุณสามารถสำรวจความสามารถของ Aspose.Zip สำหรับ .NET ได้โดยดาวน์โหลดเวอร์ชันทดลองฟรี [ที่นี่](https://releases.aspose.com/)

**ถาม: ฉันสามารถหาเอกสารประกอบที่ครบถ้วนสำหรับ Aspose.Zip สำหรับ .NET ได้ที่ไหน?**  
ตอบ: เอกสารพร้อมใช้งาน [ที่นี่](https://reference.aspose.com/zip/net/), ให้ข้อมูลเชิงลึกเกี่ยวกับฟีเจอร์และการใช้งานของไลบรารี

**ถาม: ฉันจะรับการสนับสนุนสำหรับ Aspose.Zip สำหรับ .NET ได้อย่างไร?**  
ตอบ: เยี่ยมชม [ฟอรั่ม Aspose.Zip](https://forum.aspose.com/c/zip/37) เพื่อขอความช่วยเหลือ, แบ่งปันประสบการณ์, และเชื่อมต่อกับชุมชน

**ถาม: ฉันสามารถขอรับใบอนุญาตชั่วคราวสำหรับ Aspose.Zip สำหรับ .NET ได้หรือไม่?**  
ตอบ: ได้, หากคุณต้องการใบอนุญาตชั่วคราว, สามารถขอได้ [ที่นี่](https://purchase.aspose.com/temporary-license/)

## สรุป

คุณได้เรียนรู้วิธี **add files to tar** และบีบอัดผลลัพธ์เป็น archive TarZ ด้วย Aspose.Zip สำหรับ .NET วิธีนี้ให้คุณได้แพ็กเกจที่สะอาด, พกพาได้ง่าย, และสามารถถ่ายโอน, เก็บรักษา, หรือประมวลผลต่อได้อย่างสะดวก ปรับสคริปต์นี้ให้ทำ batch‑process ไดเรกทอรี, ผสานเข้ากับ pipeline การสร้าง, หรือรวมกับคอมโพเนนท์ Aspose อื่น ๆ เพื่อเวิร์กโฟลว์เอกสารที่สมบูรณ์ยิ่งขึ้น

---

**อัปเดตล่าสุด:** 2026-02-15  
**ทดสอบกับ:** Aspose.Zip สำหรับ .NET 24.11  
**ผู้เขียน:** Aspose 

{{< /blocks/products/pf/tutorial-page-section >}}

{{< /blocks/products/pf/main-container >}}
{{< /blocks/products/pf/main-wrap-class >}}

{{< blocks/products/products-backtop-button >}}